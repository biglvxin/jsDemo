<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>6.2.2.2构造函数的问题及解决</title>
	</head>
	<body>
		<script>
			"use strict";
			console.log("---------------------------6.2.2.2构造函数的问题及解决-----------------------");
			/**
			 * 1.每一个实例都要重新创建一遍，person1和person2都有sayName的方法，但是是两个Function实例
			 * 2.sayName方法定义到外部来，就是全局的，那么person1和person2就是同一个方法了
			 */
//			function Person(name,age,job) {
//				this.name = name;
//				this.age = age;
//				this.job = job;
////				this.sayName = function() {
////					console.log(this.name);
////				};
//				this.sayName = new Function("console.log(this.name)");
//			}
//			var person1 = new Person('lvxin',18,'web');
//			var person2 = new Person('xuyuqiu',20,'web');
//			console.log(person1.sayName == person2.sayName);//false



			//解决方法
			function Person(name,age,job) {
				this.name = name;
				this.age = age;
				this.job = job;
//				this.sayName = function() {
//					console.log(this.name);
//				};
//				this.sayName = new Function("console.log(this.name)");
				this.sayName = sayName;
			}
			function sayName() {
				console.log(this.name);
			}
			var person1 = new Person('lvxin',18,'web');
			var person2 = new Person('xuyuqiu',20,'web');
			console.log(person1.sayName == person2.sayName);//true
			
		</script>
	</body>
</html>
